<!-- Filename: Visual_Studio_Code / Display title: Extras do Visual Studio Code -->

## Introdução

[Visual Studio Code](https://code.visualstudio.com/) é um editor de código-fonte desenvolvido pela Microsoft para Windows, Linux e macOS (incluindo Macs M1). Ele inclui suporte para depuração, controle Git incorporado e GitHub, realce de sintaxe, conclusão inteligente de código, snippets e refatoração de código.

A principal característica do editor é que ele é extensível e possui uma enorme coleção de extensões mantidas por usuários e pela própria Microsoft.

Como uma introdução geral, esta é uma apresentação sobre o tema <a href="https://www.renekreijveld.nl/slides/juglondon/vscode.pdf" rel="nofollow noreferrer noopener">Desenvolvimento Joomla com Visual Studio Code (PDF, 1Mb)</a>, por René Kreijveld, desenvolvedor Joomla Destiny B.V. Joomla User Group London, 16 de março de 2021.

Nesta página, detalhamos uma lista de extensões recomendadas para configurar o VSCode para suportar PHP e Joomla.

Esta é uma lista de extensões para suportar PHP no VSCode:

- **PHP Debug** <a href="https://marketplace.visualstudio.com/items?itemName=felixfbecker.php-debug" rel="nofollow noreferrer noopener">felixfbecker.php-debug</a>. Suporte de depuração para PHP com XDebug.
- **phpcs** <a href="https://marketplace.visualstudio.com/items?itemName=ikappas.phpcs" rel="nofollow noreferrer noopener">ikappas.phpcs</a>. PHP CodeSniffer para Visual Studio Code.
- **PHP Intelephense** <a href="https://marketplace.visualstudio.com/items?itemName=bmewburn.vscode-intelephense-client" rel="nofollow noreferrer noopener">bmewburn.vscode-intelephense-client</a>. Inteligência de código PHP para Visual Studio Code. Alternativa: *PHP IntelliSense* <a href="https://marketplace.visualstudio.com/items?itemName=felixfbecker.php-intellisense" rel="nofollow noreferrer noopener">felixfbecker.php-intellisense</a>
- **PHPUnit** <a href="https://marketplace.visualstudio.com/items?itemName=emallin.phpunit" rel="nofollow noreferrer noopener">emallin.phpunit</a>. Executa testes PHPUnit a partir do VSCode.
- **phpfmt** <a href="https://marketplace.visualstudio.com/items?itemName=kokororin.vscode-phpfmt" rel="nofollow noreferrer noopener">kokororin.vscode-phpfmt</a>. A extensão phpfmt que faltava para Visual Studio Code. O formatador phpfmt pode analisar e formatar até mesmo um arquivo PHP versão 4, se necessário.
- **php cs fixer** <a href="https://marketplace.visualstudio.com/items?itemName=junstyle.php-cs-fixer" rel="nofollow noreferrer noopener">junstyle.php-cs-fixer</a>: Em caso de optar pelo <a href="https://www.php-fig.org/psr/psr-2/" rel="nofollow noreferrer noopener">PSR-2: Guia de Estilo de Codificação</a>. Extensão PHP CS Fixer para VS Code, formatador PHP, ferramenta de embelezamento de código PHP, formatação de HTML.
- **PHP Namespace Resolver** <a href="https://marketplace.visualstudio.com/items?itemName=MehediDracula.php-namespace-resolver" rel="nofollow noreferrer noopener">MehediDracula.php-namespace-resolver</a>: O PHP Namespace Resolver pode importar e expandir sua classe. Você também pode ordenar suas classes importadas por comprimento de linha ou em ordem alfabética.
- **PHP Phan (Analyzer)** <a href="https://marketplace.visualstudio.com/items?itemName=TysonAndre.php-phan" rel="nofollow noreferrer noopener">tysonandre.php-phan</a>. Phan - analisador estático para PHP, minimizando falsos positivos.
- **phpmd** <a href="https://marketplace.visualstudio.com/items?itemName=linyang95.phpmd" rel="nofollow noreferrer noopener">linyang95.phpmd</a>. Extensão VS Code para PHP, usando phpmd.

O protocolo Git é suportado nativamente no VSCode. No entanto, existem extensões para melhorar a gestão de código e repositórios. Esta é uma lista de extensões destacadas para essa tarefa:

- **Git History** <a href="https://marketplace.visualstudio.com/items?itemName=donjayamanne.githistory" rel="nofollow noreferrer noopener">donjayamanne.githistory</a>: Histórico de Git, Pesquisa e Mais (incluindo git log).
- **GitHub** <a href="https://marketplace.visualstudio.com/items?itemName=KnisterPeter.vscode-github" rel="nofollow noreferrer noopener">KnisterPeter.vscode-github</a>: Esta extensão do vscode se integra com o GitHub.
- **GitHub Pull Requests and Issues** <a href="https://marketplace.visualstudio.com/items?itemName=GitHub.vscode-pull-request-github" rel="nofollow noreferrer noopener">GitHub.vscode-pull-request-github</a>: Revise e gerencie seus pull requests e issues no GitHub diretamente no VS Code.
- **gitignore** <a href="https://marketplace.visualstudio.com/items?itemName=codezombiech.gitignore" rel="nofollow noreferrer noopener">codezombiech.gitignore</a>: Uma extensão para Visual Studio Code que auxilia no trabalho com arquivos .gitignore.
- **Visual Studio Code Commitizen Support** <a href="https://marketplace.visualstudio.com/items?itemName=KnisterPeter.vscode-commitizen" rel="nofollow noreferrer noopener">KnisterPeter.vscode-commitizen</a>: Esta extensão do vscode adiciona suporte ao commitizen.

Esta é uma lista de extensões para suportar Joomla no VSCode:

- **Joomla Snippets** <a href="https://marketplace.visualstudio.com/items?itemName=AnibalSanchez.vs-code-joomla-snippets" rel="nofollow noreferrer noopener">anibalsanchez.vs-code-joomla-snippets</a>. Snippets para Joomla, incluindo Joomla 3.x e Snippets do Joomla 4.
- **PHP Getters & Setters** <a href="https://marketplace.visualstudio.com/items?itemName=phproberto.vscode-php-getters-setters" rel="nofollow noreferrer noopener">phproberto.vscode-php-getters-setters</a>. Crie getters e setters PHP a partir de propriedades da classe.

Esta é uma lista de extensões para suportar o desenvolvimento remoto via SSH:

- **Remote - SSH** <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-ssh" rel="nofollow noreferrer noopener">ms-vscode-remote.remote-ssh</a>: A extensão Remote - SSH permite que você use qualquer máquina remota com um servidor SSH como seu ambiente de desenvolvimento. Isso pode simplificar bastante o desenvolvimento e a solução de problemas em uma ampla variedade de situações. Para mais informações: <a href="https://code.visualstudio.com/docs/remote/ssh-tutorial" rel="nofollow noreferrer noopener">Desenvolvimento remoto via SSH</a>.
- **Live Share** <a href="https://marketplace.visualstudio.com/items?itemName=MS-vsliveshare.vsliveshare" rel="nofollow noreferrer noopener">MS-vsliveshare.vsliveshare</a>: O Visual Studio Live Share permite que você edite e depure de forma colaborativa com outros em tempo real, independentemente de quais linguagens de programação você está usando ou tipos de aplicativos que está desenvolvendo. Ele permite que você compartilhe instantaneamente (e de forma segura) seu projeto atual e, conforme necessário, compartilhe sessões de depuração, instâncias do terminal, aplicativos web localhost, chamadas de voz e mais!

Esta é uma lista de extensões úteis altamente recomendadas para facilitar o desenvolvimento:

- **EditorConfig for VS Code** <a href="https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig" rel="nofollow noreferrer noopener">editorconfig.editorconfig</a> Suporte EditorConfig para Visual Studio Code
- **change-case** <a href="https://marketplace.visualstudio.com/items?itemName=wmaurer.change-case" rel="nofollow noreferrer noopener">wmaurer.change-case</a>: Mude rapidamente o caso (camelCase, CONSTANT_CASE, snake_case, etc) da seleção atual ou palavra atual
- **Project Manager** <a href="https://marketplace.visualstudio.com/items?itemName=alefragnani.project-manager" rel="nofollow noreferrer noopener">alefragnani.project-manager</a>: Ele ajuda você a acessar facilmente seus projetos, não importa onde eles estejam localizados. Não perca mais aqueles projetos importantes.

## Configuração de Debug do PHP

A extensão suporta as configurações mais comuns do PHP
<a href="https://xdebug.org/"
rel="nofollow noreferrer noopener">XDebug</a>. Ela integra totalmente todos
os recursos do VSCode para depurar scripts PHP.

Para configurar a extensão, visite a documentação oficial.

Como um exemplo de configuração para depuração no VSCode, este é um
launch.json comum:

```json
{
    // Use o IntelliSense para aprender sobre possíveis atributos.
    // Passe o mouse para ver descrições dos atributos existentes.
    // Para mais informações, visite: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Aguardar XDebug",
            "type": "php",
            "request": "launch",

            // Porta Remota do XDebug do Servidor - 9000 é a porta padrão do XDebug
            "port": 9000,

            // Caminho Remoto do Servidor -> Caminho do Projeto Local
            "pathMappings": {
                "/app/www": "${workspaceRoot}/www"
            }
        },
        {
            "name": "Executar script atualmente aberto",
            "type": "php",
            "request": "launch",
            "program": "${file}",
            "cwd": "${fileDirname}",

            // Porta Local do XDebug - 9000 é a porta padrão do XDebug
            "port": 9000
        }
    ]
}
```

Relacionado à configuração do launch.json que o
felixfbecker/vscode-php-debug requer, é a configuração do próprio PHP
XDebug.

Neste momento, seu ambiente de desenvolvimento pode ter xdebug-2 ou
xdebug-3. Eles diferem nos parâmetros requeridos. Para configurar o PHP
XDebug, estas são as configurações mais comuns para php.ini.

### Configuração do XDebug 2

```ini
[XDebug]
;;;;;;;;;;;;;;;;;;;
; xdebug-2.9.8
;;;;;;;;;;;;;;;;;;;
xdebug.remote_enable = 1
xdebug.remote_autostart = 1
; xdebug.remote_port = 9000
```

### Configuração do XDebug 3

```ini
[XDebug]
;;;;;;;;;;;;;;;;;;;
; xdebug-3.0.0
; https://xdebug.org/docs/upgrade_guide
;;;;;;;;;;;;;;;;;;;
xdebug.mode = debug
xdebug.start_with_request = yes
xdebug.discover_client_host = true
; xdebug.client_port = 9000
```

Para saber mais sobre como o XDebug funciona internamente para se conectar ao Editor,
consulte a [documentação](Xdebug 3 — Documentation).

## Configuração do phpcs

Para configurar a extensão, visite a
documentação oficial.
A extensão suporta as configurações mais comuns do
<a href="https://pear.php.net/package/PHP_CodeSniffer/"
rel="nofollow noreferrer noopener">PHP_CodeSniffer</a>.

Por padrão, o PHP_CodeSniffer vem com vários padrões de codificação. Uma vez
que a extensão está instalada, ela funciona com **PSR2**.

        "phpcs.standard": "PSR2",

Para configurar a extensão para aplicar os **Padrões de Codificação Joomla!**,
instale as regras seguindo o
guia oficial.
Depois que os **Padrões de Codificação Joomla!** estiverem instalados, configure
as Configurações de Usuário seguindo este exemplo de configuração:

        "phpcs.standard": "/home/SEU-USUÁRIO/.../Joomla",

## Configuração do PHP Intelephense

Para configurar a extensão, visite a
documentação do intelephense.
A extensão não requer configuração adicional.

O VSCode vem com suporte básico para a linguagem PHP. Portanto, é provavelmente
uma boa ideia desativar o suporte padrão para evitar conflitos:

```json
// Desativar sugestões básicas
"php.suggest.basic": false,

// Ativar sugestões de código em comentários
"editor.quickSuggestions": { "comments": true },
```

Como alternativa, também é uma extensão muito popular: **PHP IntelliSense** <a
href="https://marketplace.visualstudio.com/items?itemName=felixfbecker.php-intellisense"
rel="nofollow noreferrer noopener">felixfbecker.php-intellisense</a>
Suporte avançado para Autocompletar e Refatoração em PHP.  

## Configuração do PHPUnit

Para configurar a extensão, visite a documentação do phpunit no vscode.

A extensão integra
<a href="https://phpunit.de/"
rel="nofollow noreferrer noopener">PHP Unit</a> com o VSCode, de modo que todas
as funcionalidades do PHP Unit são integradas com o VSCode e também podem ser
parametrizadas para uma maior integração com a interface do usuário.

Esta é uma configuração de exemplo da extensão:

        "phpunit.preferRunClassTestOverQuickPickWindow": true,
        "phpunit.driverPriority": [
            "Path",
            "Command",
            "Composer",
            "Phar",
            "Ssh",
            "GlobalPhpUnit"
        ],

## Configuração do PHP CS Fixer (Apenas para PSR2)

Para configurar a extensão, visite a documentação do vscode php cs fixer. A extensão integra o <a href="https://github.com/FriendsOfPHP/PHP-CS-Fixer" rel="nofollow noreferrer noopener">PHP-CS-Fixer</a> com o VSCode, de modo que todas as funcionalidades do PHP-CS-Fixer são integradas ao VSCode e também podem ser parametrizadas para integração adicional com a interface do usuário.

Para aplicar automaticamente o PHP-CS-Fixer aos arquivos PHP, configure as configurações do usuário da seguinte forma:

        "[php]": {
            "editor.defaultFormatter": "junstyle.php-cs-fixer",
        },
        "php-cs-fixer.onsave": true,

## Configuração do PHP Phan (Analisador)

Para configurar a extensão, visite a
documentação oficial.
Esta é uma configuração de exemplo da extensão:

        "phan.phpExecutablePath": "/usr/bin/php",
        "phan.analyzedFileExtensions": [
            "php"
        ],

## Configuração do phpmd

Para configurar a extensão, visite a
documentação oficial.
A extensão não requer configuração adicional.

Esta é uma configuração de exemplo da extensão:

        "phpmd.command": "php /home/SEU-USUARIO/.../phpmd/phpmd.phar",
        "phpmd.rules": "/home/SEU-USUARIO/.../phpmd-rulesets/phpmd_config.xml",

## Configurar EditorConfig para VS Code

EditorConfig é um formato de arquivo e uma coleção de plugins para editores de texto que ajudam a manter estilos de codificação consistentes entre diferentes editores e IDEs.

Para configurar o editor de acordo com suas preferências, crie um arquivo
.editorconfig:

    ; O EditorConfig ajuda os desenvolvedores a definir e manter
    ; estilos de codificação consistentes entre diferentes editores e IDEs.

    ; Para mais informações visite http://editorconfig.org.
    root = true

    ; Escolha entre lf ou rf na propriedade "end_of_line"
    [*]
    charset = utf-8
    end_of_line = lf
    indent_size = 2
    indent_style = space
    insert_final_newline = true
    trim_trailing_whitespace = true

    # editorconfig-tools não consegue ignorar strings longas ou URLs
    max_line_length = null

    [*.html]
    indent_style = tab

    # PSR-2
    # [*.php]
    # indent_size = 4
    # indent_style = space

    # Padrões de Codificação do Joomla!
    [*.php]
    indent_size = 4
    indent_style = tab

    [*.md]
    trim_trailing_whitespace = false

    [*.yml]
    indent_style = space
    indent_size = 2

*Traduzido por openai.com*

